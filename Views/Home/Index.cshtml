@model OnlineFurnitureStore.Models.Home.HomeIndexViewModel
@using PagedList;
@using PagedList.Mvc;
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}
<!-- about section -->

<section class="about_section layout_padding">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="detail-box">
                    <div class="heading_container">
                        <h2>
                            About Us
                        </h2>

                    </div>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                        dolore magna aliqua. Ut enim ad minim veniam
                    </p>
                    <a href="../Home/About">
                        Read More
                    </a>
                </div>
            </div>
            <div class="col-md-6">
                <div class="img-box">
                    <img src="~/images/about-img.png" alt="">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- end about section -->
<!-- trending section -->

<section class="trending_section layout_padding">
    <div id="accordion">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="detail-box">
                        <div class="heading_container">
                            <h2>
                                Trending Categories
                            </h2>
                        </div>
                        <div class="tab_container">
                            <div class="t-link-box" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true"
                                 aria-controls="collapseOne">
                                <div class="number">
                                    <h5>
                                        01
                                    </h5>
                                </div>
                                <hr>
                                <div class="t-name">
                                    <h5>
                                        Chairs
                                    </h5>
                                </div>
                            </div>
                            <div class="t-link-box collapsed" data-toggle="collapse" data-target="#collapseTwo"
                                 aria-expanded="false" aria-controls="collapseTwo">
                                <div class="number">
                                    <h5>
                                        02
                                    </h5>
                                </div>
                                <hr>
                                <div class="t-name">
                                    <h5>
                                        Tables
                                    </h5>
                                </div>
                            </div>
                            <div class="t-link-box collapsed" data-toggle="collapse" data-target="#collapseThree"
                                 aria-expanded="false" aria-controls="collapseThree">
                                <div class="number">
                                    <h5>
                                        03
                                    </h5>
                                </div>
                                <hr>
                                <div class="t-name">
                                    <h5>
                                        Bads
                                    </h5>
                                </div>
                            </div>
                            <div class="t-link-box collapsed" data-toggle="collapse" data-target="#collapseFour"
                                 aria-expanded="false" aria-controls="collapseFour">
                                <div class="number">
                                    <h5>
                                        04
                                    </h5>
                                </div>
                                <hr>
                                <div class="t-name">
                                    <h5>
                                        Furnitures
                                    </h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="collapse show" id="collapseOne" aria-labelledby="headingOne" data-parent="#accordion">
                        <div class="img_container ">
                            <div class="box b-1">
                                <div class="img-box">
                                    <img src="~/images/t-1.jpg" alt="">
                                </div>
                                <div class="img-box">
                                    <img src="~/images/t-2.jpg" alt="">
                                </div>
                            </div>
                            <div class="box b-2">
                                <div class="img-box">
                                    <img src="~/images/t-3.jpg" alt="">
                                </div>
                                <div class="img-box">
                                    <img src="~/images/t-4.jpg" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="collapse" id="collapseTwo" aria-labelledby="headingTwo" data-parent="#accordion">
                        <div class="img_container ">
                            <div class="box b-1">
                                <div class="img-box">
                                    <img src="~/images/t-3.jpg" alt="">
                                </div>
                                <div class="img-box">
                                    <img src="~/images/t-4.jpg" alt="">
                                </div>
                            </div>
                            <div class="box b-2">

                                <div class="img-box">
                                    <img src="~/images/t-1.jpg" alt="">
                                </div>
                                <div class="img-box">
                                    <img src="~/images/t-2.jpg" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="collapse" id="collapseThree" aria-labelledby="headingThree" data-parent="#accordion">
                        <div class="img_container ">
                            <div class="box b-1">
                                <div class="img-box">
                                    <img src="~/images/t-4.jpg" alt="">
                                </div>
                                <div class="img-box">
                                    <img src="~/images/t-1.jpg" alt="">
                                </div>
                            </div>
                            <div class="box b-2">
                                <div class="img-box">
                                    <img src="~/images/t-3.jpg" alt="">
                                </div>
                                <div class="img-box">
                                    <img src="~/images/t-2.jpg" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="collapse" id="collapseFour" aria-labelledby="headingfour" data-parent="#accordion">
                        <div class="img_container ">
                            <div class="box b-1">
                                <div class="img-box">
                                    <img src="~/images/t-1.jpg" alt="">
                                </div>

                                <div class="img-box">
                                    <img src="~/images/t-4.jpg" alt="">
                                </div>
                            </div>
                            <div class="box b-2">
                                <div class="img-box">
                                    <img src="~/images/t-3.jpg" alt="">
                                </div>
                                <div class="img-box">
                                    <img src="~/images/t-2.jpg" alt="">
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</section>

<!-- end trending section -->
<!-- discount section -->

<section class="discount_section  layout_padding">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="detail-box">
                    <h2>
                        The Latest Collection
                    </h2>
                    <h2 class="main_heading">
                        50% DISCOUNT
                    </h2>

                    <div class="">
                        <a href="">
                            Buy Now
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="img-box">
                    <img src="~/images/discount-img.png" alt="">
                </div>
            </div>
        </div>
    </div>
</section>


<!-- end discount section -->
<!-- brand section -->

<section class="brand_section">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <div class="heading_container">
                    <h2>
                        Featured Brands
                    </h2>
                </div>
            </div>
            <div class="col-md-3">
                <form method="post">
                    <div class="olSearch pr-6">
                        <input type="text" name="search" placeholder="Enter Keyword" class="inputComn form-control" />
                        <div class="searchIcon">
                            <button type="submit" class="searchBtn">
                                <img src="~/Images/searchIcon.png" />
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="brand_container layout_padding2">
            @foreach (var item in Model.ListOfProducts)
            {
                <div class="box">


                    <div class="new">
                        @if (item.IsFeatured == true)
                        {
                            <h5>New</h5>
                        }
                        else
                        {
                            <h5>Old</h5>
                        }
                    </div>
                    <div class="img-box">
                        <img src="~/ProductImg/@item.ProductImage" alt="">
                    </div>
                    <div class="detail-box">
                        <h6 class="price">

                            Rs.@item.Price
                        </h6>
                        <h6>
                            @item.ProductName
                        </h6>
                        @if (item.Quantity > 0)
                        {
                            <h6>Available</h6>
                            <br />
                            using (Html.BeginForm("AddToCart", "Home", new { productId = item.ProductId, url = "Index" }, FormMethod.Post))
                            {
                                <button type="submit" class="btn btn-success">Add to Cart</button>
                            }
                        }
                        else
                        {
                            <h6>Not Available</h6>
                        }
                    </div>
                    <br />
                </div>
            }

        </div>
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-9">
                    <div class="container">
                        @Html.PagedListPager(Model.ListOfProducts, page => Url.Action("Index", new { page, search = Request.QueryString["search"] }), new PagedListRenderOptions() { Display = PagedListDisplayMode.IfNeeded, DisplayItemSliceAndTotal = true })
                    </div>
                </div>
                <div class="col-md-3">

                    <a href="../Home/Shop" class="brand-btn">
                        See All Products
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- end brand section -->
<!-- contact section -->

<section class="contact_section layout_padding">
    <div class="container ">
        <div class="heading_container">
            <h2 class="">
                Contact Us
            </h2>
        </div>

    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <form action="">
                    <div>
                        <input type="text" placeholder="Name" />
                    </div>
                    <div>
                        <input type="email" placeholder="Email" />
                    </div>
                    <div>
                        <input type="text" placeholder="Phone" />
                    </div>
                    <div>
                        <input type="text" class="message-box" placeholder="Message" />
                    </div>
                    <div class="d-flex ">
                        <button>
                            SEND
                        </button>
                    </div>
                </form>
            </div>
            <div class="col-md-6">
                <div class="map_container">
                    <div class="map-responsive">
                        <iframe src="https://www.google.com/maps/embed/v1/place?key=AIzaSyA0s1a7phLN0iaD6-UE7m4qP-z21pH0eSc&q=Eiffel+Tower+Paris+France"
                                width="600" height="300" frameborder="0" style="border:0; width: 100%; height:100%"
                                allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- end contact section -->
<!-- client section -->
<section class="client_section layout_padding-bottom">
    <div class="container">
        <div class="heading_container">
            <h2>
                Testimonial
            </h2>
        </div>
    </div>

    <div class="container">
        <div class="client_container layout_padding2">
            <div class="client_box b-1">
                <div class="client-id">
                    <div class="img-box">
                        <img src="~/images/client-1.png" alt="" />
                    </div>
                    <div class="name">
                        <h5>
                            Magna
                        </h5>
                        <p>
                            Consectetur adipiscing
                        </p>
                    </div>
                </div>
                <div class="detail">
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                        dolore magna aliqua. Ut enim ad minim veniam, quis nostrudLorem ipsum
                    </p>
                    <div>
                        <div class="arrow_img">
                        </div>
                    </div>
                </div>
            </div>
            <div class="client_box b-2">
                <div class="client-id">
                    <div class="img-box">
                        <img src="~/images/client-2.png" alt="" />
                    </div>
                    <div class="name">
                        <h5>
                            Aliqua
                        </h5>
                        <p>
                            Consectetur adipiscing
                        </p>

                    </div>
                </div>
                <div class="detail">
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                        dolore magna aliqua. Ut enim ad minim veniam, quis nostrudLorem ipsum
                    </p>
                    <div>
                        <div class="arrow_img">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- end client section -->
<div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Cart Message</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body text-center">
                <h6>Your product is successfully inserted into cart!!</h6>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Ok</button>
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script>
        $(document).ready(function () {
            $("form").submit(function (event) {
                // Prevent the default form submission behavior
                event.preventDefault();

                // Serialize the form data
                var formData = $(this).serialize();

                // Send the form data to the server using AJAX
                $.ajax({
                    url: $(this).attr("action"),  // Get the form's action URL
                    type: $(this).attr("method"), // Get the form's method (POST)
                    data: formData,               // Use the serialized form data
                    success: function (response) {
                        // Handle the success response from the server
                        console.log("Item added to cart successfully!");
                        /* alert("Your item is successfully added to the cart!");*/
                        $("#cartModal").modal("show");
                        // Optionally, you can update the page or perform other actions
                    },
                    error: function (xhr, status, error) {
                        // Handle errors
                        console.error("Error adding item to cart:", error);
                    }
                });
            });
        });

    </script>
}